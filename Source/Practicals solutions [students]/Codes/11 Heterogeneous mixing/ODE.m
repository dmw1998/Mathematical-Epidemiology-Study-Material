
function dydt = ODE(WAIFW,c,y,t)
%% Parameters
N0 = 60000;
N_y = 15000;
N_m = 15000;
N_o = 30000;
b = 1/60/365;
d = 1/30/365;
a_y = 1/15/365;
a_m = 1/15/365;
f = 1/10;
r = 1/11;

vac = @(t) logical(floor(t/(100*365)))*c;

%% ODE

dydt = [(1-vac(t))*N0*b-WAIFW(1,:)*[y(3);y(7);y(11)]*y(1)-a_y*y(1); ...
    WAIFW(1,:)*[y(3);y(7);y(11)]*y(1)-f*y(2)-a_y*y(2); ...
    f*y(2)-r*y(3)-a_y*y(3); ...
    vac(t)*b*N0+r*y(3)-a_y*y(4); ...
    a_y*y(1)-WAIFW(2,:)*[y(3);y(7);y(11)]*y(5)-a_m*y(5); ...
    WAIFW(2,:)*[y(3);y(7);y(11)]*y(5)+a_y*y(2)-f*y(6)-a_m*y(6); ...
    f*y(6)+a_y*y(3)-r*y(7)-a_m*y(7); ...
    r*y(7)+a_y*y(4)-a_m*y(8); ...
    a_m*y(5)-WAIFW(3,:)*[y(3);y(7);y(11)]*y(9)-d*y(9); ...
    WAIFW(3,:)*[y(3);y(7);y(11)]*y(9)+a_m*y(6)-f*y(10)-d*y(10); ...
    f*y(10)+a_m*y(7)-r*y(11)-d*y(11); ...
    r*y(11)+a_m*y(8)-d*y(12)];



end